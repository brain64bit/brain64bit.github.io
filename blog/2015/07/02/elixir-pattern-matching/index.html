
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Elixir Pattern Matching - devblog of @sgt_mactavish</title>
  <meta name="author" content="@sgt_mactavish">

  
  <meta name="description" content="In Elixir pattern matching can be done using = operator, the equal sign compares left-hand side variable with right-hand side variable, it&rsquo;s &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://brain64bit.github.io/blog/2015/07/02/elixir-pattern-matching">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="devblog of @sgt_mactavish" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner">
	<div class="header-title"><a href="/">devblog of @sgt_mactavish</a></div>


	<br><div class="header-subtitle">developer log & random thoughts</div>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:brain64bit.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/categories">Categories</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
  
    
      <h1 class="entry-title">Elixir Pattern Matching</h1>
    
  
    
      <p class="meta">
        








  


<time datetime="2015-07-02T22:27:48+07:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2015</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>In Elixir pattern matching can be done using <strong>=</strong> operator, the equal sign compares left-hand side variable with right-hand side variable, it&rsquo;s success if both are equal. Lets see simple example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">foo</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
</span><span class='line'><span class="s1">&#39;bar&#39;</span>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">2</span><span class="p">)</span><span class="o">&gt;</span> <span class="s1">&#39;bar&#39;</span> <span class="o">=</span> <span class="n">foo</span>
</span><span class='line'><span class="s1">&#39;bar&#39;</span>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">3</span><span class="p">)</span><span class="o">&gt;</span> <span class="s1">&#39;baz&#39;</span> <span class="o">=</span> <span class="n">foo</span>
</span><span class='line'><span class="o">**</span> <span class="p">(</span><span class="no">MatchError</span><span class="p">)</span> <span class="n">no</span> <span class="n">match</span> <span class="n">of</span> <span class="n">right</span> <span class="n">hand</span> <span class="n">side</span> <span class="ss">value:</span> <span class="s1">&#39;bar&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">3</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">foo</span> <span class="o">=</span> <span class="s1">&#39;baz&#39;</span>
</span><span class='line'><span class="s1">&#39;baz&#39;</span>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">4</span><span class="p">)</span><span class="o">&gt;</span> <span class="s1">&#39;baz&#39;</span> <span class="o">=</span> <span class="n">foo</span>
</span><span class='line'><span class="s1">&#39;baz&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<!--MORE-->


<p><code>'bar' = foo</code> is valid because both left &amp; right side are equal to &lsquo;bar&rsquo;. But in the line 3, when the sides don&rsquo;t match it&rsquo;s raise <strong>MatchError</strong>. From above example, variable can only be assigned on the left side.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">10</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="m">1</span><span class="p">,[</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">],</span><span class="m">4</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">,</span> <span class="p">[</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">],</span> <span class="m">4</span><span class="p">]</span>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">11</span><span class="p">)</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">]</span> <span class="o">=</span> <span class="n">list</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">,</span> <span class="p">[</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">],</span> <span class="m">4</span><span class="p">]</span>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">12</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">]</span>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">13</span><span class="p">)</span><span class="o">&gt;</span> <span class="p">[</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span>
</span><span class='line'><span class="o">**</span> <span class="p">(</span><span class="no">MatchError</span><span class="p">)</span> <span class="n">no</span> <span class="n">match</span> <span class="n">of</span> <span class="n">right</span> <span class="n">hand</span> <span class="n">side</span> <span class="ss">value:</span> <span class="p">[</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">13</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">x</span>
</span><span class='line'><span class="m">1</span>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">14</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">z</span>
</span><span class='line'><span class="m">4</span>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">15</span><span class="p">)</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>A pattern (the left side) is matched if the values (the right side) have the same structure and if each term in the pattern can be matched to the corresponding term in the values.</p>

<p>Also, you can ignoring a value when assignment with <strong>underscore</strong> operator &lsquo;_&rsquo;. It&rsquo;s useful when we didn&rsquo;t need to capture a value during assignment.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">19</span><span class="p">)</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">_</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">]</span>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">20</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">a</span>
</span><span class='line'><span class="m">1</span>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">21</span><span class="p">)</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Another feature that exist in elixir pattern matching is <strong>caret</strong> ^ operator. It&rsquo;s useful if you want to force to Elixir to use existing value or you don&rsquo;t want to rebinding a variable. Just prefix a variable with ^ to use existing value.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">30</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">z</span> <span class="o">=</span> <span class="m">5</span>
</span><span class='line'><span class="m">5</span>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">31</span><span class="p">)</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">^</span><span class="n">z</span><span class="p">,</span> <span class="m">6</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">]</span>
</span><span class='line'><span class="n">iex</span><span class="p">(</span><span class="m">32</span><span class="p">)</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Ref:</strong></p>

<ul>
<li><a href="http://elixir-lang.org/getting-started/pattern-matching.html">Elixir Pattern Matching</a></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">@sgt_mactavish</span></span>

      








  


<time datetime="2015-07-02T22:27:48+07:00" pubdate data-updated="true">Jul 2<span>nd</span>, 2015</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/elixir/'>elixir</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://brain64bit.github.io/blog/2015/07/02/elixir-pattern-matching/" data-via="sgt_mactavish" data-counturl="http://brain64bit.github.io/blog/2015/07/02/elixir-pattern-matching/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/04/29/extra-slash-n-inside-rails-mailer-template/" title="Previous Post: Extra '\n' inside rails mailer template">&laquo; Extra '\n' inside rails mailer template</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/07/03/elixir-anonymous-function/" title="Next Post: Elixir Anonymous Function">Elixir Anonymous Function &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/07/11/elixir-functional-form/">Elixir Functional Form</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/03/elixir-anonymous-function/">Elixir Anonymous Function</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/02/elixir-pattern-matching/">Elixir Pattern Matching</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/29/extra-slash-n-inside-rails-mailer-template/">Extra '\n' inside rails mailer template</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/20/problem-using-activerecord-findermethods-number-exists-in-eager-load-resultset/">Problem using ActiveRecord #exists? in eager load resultset</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/brain64bit">@brain64bit</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'brain64bit',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 -  @sgt_mactavish <br/>
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> + <a href="https://github.com/ioveracker/mnml">mnml</a>.
	  
  </span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'minified';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://brain64bit.github.io/blog/2015/07/02/elixir-pattern-matching/';
        var disqus_url = 'http://brain64bit.github.io/blog/2015/07/02/elixir-pattern-matching/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
